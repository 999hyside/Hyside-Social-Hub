<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <title>Hyside | Official</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');

        :root {
            --pink: #ff2d8d;
            --pink-glow: rgba(255, 45, 141, 0.8);
        }

        body, html {
            margin: 0; padding: 0; height: 100%;
            background: #000; font-family: 'Inter', sans-serif;
            color: white; overflow: hidden;
        }

        #enter-screen {
            position: fixed; inset: 0; background: #000;
            display: flex; align-items: center; justify-content: center;
            z-index: 10000; cursor: pointer; transition: 1s ease;
        }

        #bg-video {
            position: fixed; inset: 0; width: 100%; height: 100%;
            object-fit: cover; z-index: -1; filter: brightness(0.4);
        }

        #main-content {
            height: 100vh; display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            opacity: 0; transition: 1.5s ease;
            gap: 20px;
        }

        .profile-container { display: flex; align-items: center; gap: 40px; margin-bottom: 20px; }
        .pfp-wrapper {
            width: 160px; height: 160px; border-radius: 50%;
            border: 4px solid var(--pink); box-shadow: 0 0 35px var(--pink-glow);
            overflow: hidden;
        }
        .pfp-wrapper img { width: 100%; height: 100%; object-fit: cover; }
        
        .name-tag { 
            font-size: 8rem; 
            font-weight: 900; 
            letter-spacing: -3px; 
            color: white;
            text-shadow: 0 0 25px var(--pink), 0 0 50px var(--pink-glow);
        }

        .bio { 
            border-left: 4px solid var(--pink); 
            padding-left: 20px; 
            margin-bottom: 20px; 
            font-size: 1.5rem; 
            text-transform: uppercase; 
            letter-spacing: 2px;
        }

        .socials { display: flex; gap: 35px; margin-bottom: 20px; }
        .socials a { color: white; font-size: 2.5rem; opacity: 0.7; transition: 0.3s; text-decoration: none; }
        .socials a:hover { opacity: 1; color: var(--pink); transform: scale(1.2); }

        .discord-card {
            background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 45, 141, 0.4); border-radius: 25px;
            padding: 20px 35px; display: flex; align-items: center; gap: 20px; width: 400px; margin-bottom: 20px;
        }
        .discord-pfp-area { position: relative; width: 70px; height: 70px; }
        .discord-pfp-area img { width: 100%; height: 100%; border-radius: 50%; }
        .status-dot { position: absolute; bottom: 2px; right: 2px; width: 18px; height: 18px; border-radius: 50%; border: 3px solid #1a1a1a; }

        .music-player { 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            gap: 25px; 
            background: rgba(0, 0, 0, 0.6);
            padding: 35px;
            border-radius: 40px;
            border: 1px solid rgba(255, 45, 141, 0.3);
            width: 450px;
        }

        /* KÖZÉPRE IGAZÍTOTT ZENE INFÓ */
        .track-info-container {
            display: flex;
            flex-direction: column; /* Egymás alá kerülnek a középre igazításhoz */
            align-items: center;
            gap: 15px;
            width: 100%;
        }

        #track-art {
            width: 100px; /* Kicsit nagyobb lett a borító */
            height: 100px;
            border-radius: 15px;
            border: 2px solid var(--pink);
            box-shadow: 0 0 20px var(--pink-glow);
            object-fit: cover;
        }

        #track-title { 
            font-size: 1.6rem; 
            color: var(--pink); 
            font-weight: 700; 
            text-transform: uppercase; 
            text-align: center; /* KÖZÉPRE ZÁRT SZÖVEG */
            text-shadow: 0 0 15px rgba(255, 45, 141, 0.6);
            width: 100%;
            white-space: normal; /* Engedjük több sorba ha hosszú */
            overflow: hidden;
        }
        
        .controls { display: flex; align-items: center; gap: 45px; }
        .control-btn { 
            background: none; border: none; color: white; 
            font-size: 2.2rem; cursor: pointer; transition: 0.2s; opacity: 0.8; 
        }
        .control-btn:hover { opacity: 1; color: var(--pink); transform: scale(1.15); }

        .volume-container { display: flex; align-items: center; gap: 20px; width: 300px; }
        input[type=range] { flex: 1; accent-color: var(--pink); cursor: pointer; height: 8px; }

        #sc-target { display: none; }
    </style>
</head>
<body>

    <div id="enter-screen" onclick="launch()">
        <h2 style="color:var(--pink); letter-spacing:10px; text-transform:uppercase; font-size: 2rem;">Click to Enter</h2>
    </div>

    <video id="bg-video" loop muted playsinline preload="auto">
        <source src="video.mp4" type="video/mp4">
    </video>

    <div id="main-content">
        <div class="profile-container">
            <div class="pfp-wrapper">
                <img src="profile.gif" alt="PFP">
            </div>
            <h1 class="name-tag">Hyside</h1>
        </div>

        <div class="bio">Hyside vagyok content creator</div>

        <div class="socials">
            <a href="https://steamcommunity.com/profiles/76561199172658323/" target="_blank"><i class="fab fa-steam"></i></a>
            <a href="https://www.instagram.com/_._bence_.__/" target="_blank"><i class="fab fa-instagram"></i></a>
            <a href="https://www.twitch.tv/hyside_" target="_blank"><i class="fab fa-twitch"></i></a>
            <a href="https://soundcloud.com/user-880127680" target="_blank"><i class="fab fa-soundcloud"></i></a>
        </div>

        <div class="discord-card">
            <div class="discord-pfp-area">
                <img id="d-avatar" src="https://cdn.discordapp.com/embed/avatars/0.png">
                <div id="d-status" class="status-dot"></div>
            </div>
            <div class="discord-info">
                <div id="d-name" style="font-weight:700; font-size: 1.4rem;">Loading...</div>
                <div id="d-activity" style="font-size:1rem; color:#bbb;">No activity</div>
            </div>
        </div>

        <div class="music-player">
            <div class="track-info-container">
                <img id="track-art" src="https://via.placeholder.com/100" alt="Art">
                <div id="track-title">Loading track...</div>
            </div>
            <div class="controls">
                <button class="control-btn" onclick="ctrl('prev')"><i class="fas fa-step-backward"></i></button>
                <button class="control-btn" style="font-size:3rem;" onclick="ctrl('toggle')"><i id="play-icon" class="fas fa-pause"></i></button>
                <button class="control-btn" onclick="ctrl('next')"><i class="fas fa-step-forward"></i></button>
            </div>
            <div class="volume-container">
                <i class="fas fa-volume-down" style="font-size: 1.2rem; opacity: 0.5;"></i>
                <input type="range" id="volumeSlider" min="0" max="100" value="10">
                <i class="fas fa-volume-up" style="font-size: 1.2rem; opacity: 0.5;"></i>
            </div>
        </div>
    </div>

    <div id="sc-target"></div>

    <script src="https://w.soundcloud.com/player/api.js"></script>
    <script>
        const DISCORD_ID = "939688591381135401";
        let widget;
        let isPlaying = true;

        const ws = new WebSocket('wss://api.lanyard.rest/socket');
        ws.onmessage = (e) => {
            const data = JSON.parse(e.data);
            if (data.op === 1) {
                ws.send(JSON.stringify({ op: 2, d: { subscribe_to_ids: [DISCORD_ID] } }));
                setInterval(() => ws.send(JSON.stringify({ op: 3 })), data.d.heartbeat_interval);
            }
            if (data.t === 'INIT_STATE' || data.t === 'PRESENCE_UPDATE') {
                const user = data.t === 'INIT_STATE' ? data.d[DISCORD_ID] : data.d;
                if(!user) return;
                document.getElementById('d-name').innerText = user.discord_user.username;
                if(user.discord_user.avatar) document.getElementById('d-avatar').src = `https://cdn.discordapp.com/avatars/${DISCORD_ID}/${user.discord_user.avatar}.png`;
                const colors = { online: '#43b581', idle: '#faa61a', dnd: '#f04747', offline: '#747f8d' };
                document.getElementById('d-status').style.backgroundColor = colors[user.discord_status] || '#747f8d';
                document.getElementById('d-activity').innerText = user.activities[0] ? (user.activities[0].state || user.activities[0].name) : "No activity";
            }
        };

        function launch() {
            const playlistUrl = "https://soundcloud.com/user-880127680/sets/everything-too";
            // Kényszerített autoplay az iframe URL-ben
            document.getElementById('sc-target').innerHTML = `<iframe id="sc-iframe" width="100%" height="166" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=${encodeURIComponent(playlistUrl)}&color=%23ff2d8d&auto_play=true"></iframe>`;
            
            widget = SC.Widget(document.getElementById('sc-iframe'));
            
            widget.bind(SC.Widget.Events.READY, () => {
                widget.setVolume(10);
                
                widget.getSounds((sounds) => {
                    const randomIndex = Math.floor(Math.random() * sounds.length);
                    widget.skip(randomIndex);
                    // Azonnali lejátszás kérése skip után
                    widget.play();
                    updateTitle();
                });
            });

            widget.bind(SC.Widget.Events.PLAY, () => {
                isPlaying = true;
                document.getElementById('play-icon').className = 'fas fa-pause';
                updateTitle();
            });

            document.getElementById('volumeSlider').addEventListener('input', (e) => {
                if(widget) widget.setVolume(e.target.value);
            });

            document.getElementById('bg-video').play();
            document.getElementById('enter-screen').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('enter-screen').style.display = 'none';
                document.getElementById('main-content').style.opacity = '1';
            }, 1000);
        }

        function updateTitle() {
            widget.getCurrentSound((sound) => {
                if(sound) {
                    document.getElementById('track-title').innerText = sound.title;
                    if(sound.artwork_url) {
                        document.getElementById('track-art').src = sound.artwork_url.replace('large', 't500x500');
                    }
                }
            });
        }

        function ctrl(action) {
            if(!widget) return;
            const icon = document.getElementById('play-icon');
            if(action === 'toggle') {
                widget.toggle();
                isPlaying = !isPlaying;
                icon.className = isPlaying ? 'fas fa-pause' : 'fas fa-play';
            } else if (action === 'next') widget.next();
            else if (action === 'prev') widget.prev();
            setTimeout(updateTitle, 500);
        }
    </script>
</body>
</html>
